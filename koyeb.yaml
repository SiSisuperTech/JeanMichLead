name: michlead
regions:
  - pars
services:
  - name: web
    type: web
    build:
      type: dockerfile
      dockerfile: Dockerfile
    run_command: gunicorn -b 0.0.0.0:$PORT --timeout 300 --workers 1 --threads 4 lead_qualifier_full:app
    ports:
      - port: 8000
        protocol: http
    routes:
      - path: /
        port: 8000
    env:
      - name: PORT
        value: "8000"
      # Set these in Koyeb dashboard:
      # - SLACK_BOT_TOKEN
      # - HUBSPOT_TOKEN
      # - ZAI_API_KEY (your z.ai GLM Coding Plan key - enables web search!)
    instance_type: nano
    instances: 1
    scaling:
      min: 1
      max: 1
